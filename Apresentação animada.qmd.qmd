### üìä Rentabilidade da Poupan√ßa no Brasil (1967‚Äì2012)

A rentabilidade da poupan√ßa √© um importante indicador do retorno obtido por investidores na aplica√ß√£o mais tradicional do pa√≠s. A s√©rie hist√≥rica da rentabilidade mensal permite acompanhar a evolu√ß√£o dos rendimentos ao longo de v√°rias d√©cadas, refletindo mudan√ßas nas pol√≠ticas monet√°rias, infla√ß√£o e contexto econ√¥mico.

```{r}
#| label: poupanca-plotly
#| warning: false
#| echo: false

# Instalar e carregar pacotes
if (!require("GetBCBData")) install.packages("GetBCBData")
if (!require("tidyverse")) install.packages("tidyverse")
if (!require("plotly")) install.packages("plotly")

library(GetBCBData)
library(tidyverse)
library(plotly)

# Coleta dos dados
my.id <- c(poupanca = 7828)

df.poup <- gbcbd_get_series(id = my.id,
                            first.date = '1967-01-01',
                            last.date = '2012-05-03',
                            format.data = 'long') %>%
  filter(!is.na(value)) %>%
  arrange(ref.date) %>%
  mutate(ref.date = as.Date(ref.date),
         frame = row_number())

# Preparar dados para anima√ß√£o acumulativa
df_anim <- map_dfr(1:nrow(df.poup), function(i) {
  df.poup[1:i, ] %>% mutate(frame_id = i)
})

# Definir ticks do eixo X de 10 em 10 anos
anos_ticks <- seq(from = as.Date("1970-01-01"),
                  to = as.Date("2010-01-01"),
                  by = "10 years")

x_range <- range(df.poup$ref.date)
y_range <- range(df.poup$value)

# Criar gr√°fico animado
p <- plot_ly(
  data = df_anim,
  x = ~ref.date,
  y = ~value,
  frame = ~frame_id,
  type = 'scatter',
  mode = 'lines',
  line = list(color = "#00FFFF", width = 2),
  fill = 'tozeroy',
  fillcolor = 'rgba(31,119,180,0.3)'
) %>%
  layout(
    title = "üìà Rentabilidade da Poupan√ßa no Brasil",
    margin = list(b = 80),  # aumenta margem inferior para t√≠tulo "Ano"
    xaxis = list(
      title = "Ano",
      color = "white",
      type = "date",
      tickformat = "%Y",
      tickvals = anos_ticks,
      range = c(x_range[1], x_range[2])
    ),
    yaxis = list(
      title = "Rentabilidade mensal (%)",
      color = "white",
      range = c(y_range[1], y_range[2])
    ),
    plot_bgcolor = "#0f0f0f",
    paper_bgcolor = "#0f0f0f",
    font = list(color = "white")
  ) %>%
  animation_opts(frame = 50, transition = 0, redraw = FALSE) %>%
  animation_slider(
    currentvalue = list(visible = FALSE),
    ticks = FALSE
  ) %>%
  animation_button()

p

```

# Interpreta√ß√£o hist√≥rica dos picos e quedas

A an√°lise da rentabilidade mensal da poupan√ßa no Brasil entre 1967 e 2012 revela varia√ß√µes intensas, diretamente associadas a momentos econ√¥micos marcantes:

-   **Anos 1980 - Crise da d√≠vida e hiperinfla√ß√£o:** A alta volatilidade e alguns picos refletem as tentativas do governo brasileiro de controlar a infla√ß√£o alta, que chegou a n√≠veis exorbitantes, impactando os juros e a rentabilidade real da poupan√ßa.

-   **Planos econ√¥micos e estabiliza√ß√£o:** Os sucessivos planos econ√¥micos, como o Plano Cruzado (1986), Plano Bresser (1987) e Plano Real (1994), afetaram diretamente a rentabilidade da poupan√ßa. No per√≠odo do Plano Real, observa-se maior estabilidade e valoriza√ß√£o real, com queda da infla√ß√£o.

-   **Taxa Selic e pol√≠tica monet√°ria:** A rentabilidade da poupan√ßa acompanha as mudan√ßas na taxa b√°sica de juros (Selic). Durante per√≠odos em que a Selic esteve elevada para conter a infla√ß√£o, a poupan√ßa teve rentabilidade maior; em per√≠odos de juros baixos, a rentabilidade tamb√©m caiu.

-   **Crises internacionais:** Epis√≥dios como a crise do petr√≥leo nos anos 1970 e a crise financeira internacional de 2008 tamb√©m impactaram a economia brasileira e, consequentemente, a rentabilidade da poupan√ßa, gerando oscila√ß√µes no gr√°fico.

Esses movimentos refletem a complexa intera√ß√£o entre pol√≠tica econ√¥mica, infla√ß√£o, taxa de juros e confian√ßa do mercado, que moldaram o comportamento da poupan√ßa ao longo das d√©cadas.

---
title: "Isaque Beyer"
format: html
editor: visual
---

```{r}
#| label: load-packages # nomes √∫nicos
#| include: false # n√£o inclui o resultado no doc

library(tidyverse) # pacote ggplot2 (gr√°ficos)
library(WDI) # pacote dos dados
library(countrycode) #pacote com os c√≥digos dos paises

options(scipen = 999)

# BASE DE DADOS #
# DADOS EM PAINEL
x <- WDI(country = 'all', indicator = 'IS.AIR.PSGR')

# CORTE TRANSVERSAL
xx <- WDI(country = 'all',
                      indicator = 'MS.MIL.TOTL.P1',
                      start = 2020, end = 2020)

# SERIE TEMPORAL
xxx <- WDI(country = 'CHN',
                       indicator = 'AG.PRD.CREL.MT')

```

## VARI√ÅVEIS

Apresenta 3 vari√°veis diferentes entre elas temos:

**PIB per capita**

A vari√°vel PIB per capita representa o Produto Interno Bruto dividido pela popula√ß√£o de um pa√≠s, sendo uma medida que indica a m√©dia de renda por habitante. Esse indicador √© essencial para avaliar o padr√£o de vida de uma popula√ß√£o, o desenvolvimento econ√¥mico de uma na√ß√£o e as desigualdades entre diferentes regi√µes. Em contextos gerais, o PIB per capita √© amplamente utilizado em an√°lises comparativas de bem-estar econ√¥mico e qualidade de vida entre pa√≠ses.

**Taxa de Desemprego em 2023**

A taxa de desemprego em 2023 refere-se √† propor√ß√£o da popula√ß√£o economicamente ativa que estava sem trabalho e procurando emprego nesse ano espec√≠fico. Esse indicador √© crucial para entender a situa√ß√£o do mercado de trabalho de um pa√≠s, refletindo diretamente a sa√∫de da economia. Altas taxas de desemprego podem indicar crises econ√¥micas ou dificuldades estruturais, enquanto taxas mais baixas geralmente est√£o associadas a economias em expans√£o.

**Crescimento do PIB**

A vari√°vel Crescimento do PIB indica a varia√ß√£o percentual do Produto Interno Bruto de um pa√≠s de um ano para o outro, ajustado a pre√ßos constantes. Esse indicador mede a din√¢mica da atividade econ√¥mica e o ritmo de expans√£o ou retra√ß√£o da economia. Em contextos gerais, o crescimento do PIB √© utilizado para monitorar ciclos econ√¥micos, orientar pol√≠ticas econ√¥micas e comparar o desempenho entre diferentes pa√≠ses ao longo do tempo.

### GR√ÅFICO DE DADOS EM PAINEL

Um gr√°fico de dados em painel √© empregado para exibir informa√ß√µes que envolvem duas ou mais dimens√µes ao longo do tempo. Esse tipo de gr√°fico permite observar a evolu√ß√£o de diferentes pa√≠ses em rela√ß√£o a uma vari√°vel espec√≠fica durante v√°rios anos.

Al√©m disso, o gr√°fico facilita a compara√ß√£o entre pa√≠ses, permitindo identificar padr√µes, como crescimento econ√¥mico consistente, recess√µes, estabilidade ou choques pontuais.

Neste gr√°fico analisamos o **crescimento do PIB** de diversos pa√≠ses entre 2000 e 2023. O Brasil est√° destacado com a cor laranja e os Estados Unidos em azul, permitindo observar com clareza suas trajet√≥rias econ√¥micas ao longo das √∫ltimas d√©cadas.

### üìä **Gr√°fico: PIB per capita**

O gr√°fico do **PIB per capita** mostra a evolu√ß√£o da renda m√©dia por habitante ao longo do tempo em diferentes pa√≠ses. Essa representa√ß√£o permite comparar o desenvolvimento econ√¥mico entre as na√ß√µes e identificar tend√™ncias de crescimento ou estagna√ß√£o.

No gr√°fico, o Brasil e os Estados Unidos est√£o destacados com cores distintas (laranja e azul, respectivamente), facilitando a visualiza√ß√£o do desempenho relativo entre eles. O PIB per capita √© um dos principais indicadores de qualidade de vida, sendo √∫til para analisar a efici√™ncia econ√¥mica, a gera√ß√£o de riqueza e o progresso social em longo prazo.

```{r}
#| label: dadospib
#| warning: false
#| echo: false

# Baixar dados de PIB per capita
PIB_PER_CAPITA <- WDI(country = 'all', indicator = 'NY.GDP.PCAP.CD')

# Adiciona uma coluna com r√≥tulo dos pa√≠ses destacados
PIB_PER_CAPITA <- PIB_PER_CAPITA %>%
  mutate(grupo = case_when(
    iso2c == "BR" ~ "Brasil",
    iso2c == "US" ~ "Estados Unidos",
    TRUE ~ "Outros"
  ))

# Paleta de cores personalizada
cores <- c("Brasil" = "#00b159", "Estados Unidos" = "#1f77b4", "Outros" = "grey80")

# Gr√°fico com estilo escuro padronizado
grafpainel_pib <- ggplot(PIB_PER_CAPITA, aes(x = year, y = NY.GDP.PCAP.CD, group = iso2c)) +
  
  # Linhas para outros pa√≠ses
  geom_line(data = subset(PIB_PER_CAPITA, grupo == "Outros"),
            color = "grey60", alpha = 0.3, size = 0.5) +
  
  # Linhas destacadas para Brasil e EUA
  geom_line(data = subset(PIB_PER_CAPITA, grupo != "Outros"),
            aes(color = grupo),
            size = 1.5) +
  
  # Pontos destacados
  geom_point(data = subset(PIB_PER_CAPITA, grupo != "Outros"),
             aes(color = grupo),
             size = 3) +
  
  # T√≠tulos e legendas
  labs(
    title = "üåç PIB per Capita ao Longo dos Anos",
    subtitle = "Evolu√ß√£o hist√≥rica comparada: Brasil, EUA e demais pa√≠ses",
    x = "Ano",
    y = "PIB per Capita (USD)",
    color = "Pa√≠s"
  ) +
  
  scale_color_manual(values = cores) +
  
  theme_minimal(base_size = 14) +
  theme(
    plot.background = element_rect(fill = "#121212", color = NA),
    panel.background = element_rect(fill = "#121212", color = NA),
    panel.grid.major = element_line(color = "#444444"),
    panel.grid.minor = element_line(color = "#444444"),
    plot.title = element_text(face = "bold", size = 18, hjust = 0.5, color = "white"),
    plot.subtitle = element_text(size = 12, hjust = 0.5, color = "white"),
    axis.title = element_text(color = "white"),
    axis.text = element_text(color = "white"),
    legend.title = element_text(color = "white"),
    legend.text = element_text(color = "white"),
    legend.position = "bottom"
  )

# Exibir o gr√°fico
print(grafpainel_pib)
```

## GR√ÅFICO CORTE TRANSVERSAL

Um gr√°fico de dados de corte transversal √© usado para apresentar informa√ß√µes de v√°rios elementos (como pa√≠ses, estados ou regi√µes) em um √∫nico momento no tempo.

### üìà **Gr√°fico: Taxa de Desemprego em 2023**

Este gr√°fico apresenta a **taxa de desemprego** dos pa√≠ses selecionados no ano de 2023. A taxa de desemprego √© um dos principais indicadores do mercado de trabalho e revela a propor√ß√£o da popula√ß√£o economicamente ativa que est√° sem emprego, mas buscando coloca√ß√£o.

A compara√ß√£o entre os pa√≠ses permite entender quais economias estavam com maior press√£o sobre o emprego e quais apresentavam mercados de trabalho mais est√°veis nesse ano espec√≠fico. A visualiza√ß√£o destaca o Brasil e os Estados Unidos para facilitar a an√°lise comparativa entre eles.

```{r}
#| label: cortetransversal_desemprego_2023
#| warning: false
#| echo: false

library(ggplot2)
library(dplyr)

# Dados reais de taxa de desemprego em 2023
dados_desemprego <- tibble::tibble(
  pais = c("Brasil", "Estados Unidos", "Alemanha", "Fran√ßa", "√çndia", "China", "Jap√£o", "√Åfrica do Sul", "Argentina", "M√©xico"),
  taxa_desemprego = c(7.0, 4.2, 3.0, 7.2, 7.9, 5.2, 2.5, 33.0, 6.4, 2.2)
)

# Gr√°fico com estilo visual padronizado (fundo escuro, texto claro)
ggplot(dados_desemprego, aes(x = reorder(pais, taxa_desemprego), y = taxa_desemprego, fill = pais)) +
  geom_bar(stat = "identity", show.legend = FALSE) +
  coord_flip() +
  labs(
    title = "üìä Taxa de Desemprego em 2023",
    x = "Pa√≠s",
    y = "Taxa de Desemprego (%)",
    caption = "Fonte: Trading Economics"
  ) +
  theme_minimal(base_size = 14) +
  theme(
    plot.background = element_rect(fill = "#121212", color = NA),
    panel.background = element_rect(fill = "#121212", color = NA),
    panel.grid.major = element_line(color = "#444444"),
    panel.grid.minor = element_line(color = "#444444"),
    plot.title = element_text(face = "bold", size = 18, hjust = 0.5, color = "white"),
    axis.title = element_text(color = "white"),
    axis.text = element_text(color = "white"),
    plot.caption = element_text(color = "white")
  ) +
  scale_fill_manual(values = rep("#1f77b4", nrow(dados_desemprego)))
```

## GR√ÅFICO S√âRIE TEMPORAL

O gr√°fico de dados de s√©rie temporal √© utilizado para acompanhar o desenvolvimento de uma √∫nica vari√°vel ao longo dos anos. Esse tipo de gr√°fico permite observar como uma vari√°vel se altera ao longo de diferentes per√≠odos, ajudando a identificar tend√™ncias, ciclos e varia√ß√µes sazonais.

### üìâ **Gr√°fico: Crescimento do PIB (2000‚Äì2023)**

O gr√°fico de **Crescimento do PIB** em painel exibe a varia√ß√£o percentual anual do Produto Interno Bruto, ajustado a pre√ßos constantes, de diversos pa√≠ses entre os anos de 2000 e 2023.

Esse tipo de gr√°fico permite observar os ciclos econ√¥micos, crises, per√≠odos de acelera√ß√£o e recupera√ß√£o de cada pa√≠s ao longo do tempo. O Brasil (em laranja) e os Estados Unidos (em azul) s√£o destacados para evidenciar suas trajet√≥rias de crescimento, facilitando a compara√ß√£o com outras grandes economias, como China, √çndia e Alemanha.

```{r}
#| label: serietemporal
#| warning: false 
#| echo: false    

# Dados de crescimento do PIB
paises_interesse <- c("CHN")
CRESCIMENTO_PIB <- WDI(country = paises_interesse, indicator = 'NY.GDP.MKTP.KD.ZG')

# Filtrar a partir do ano 2000
CRESCIMENTO_PIB <- CRESCIMENTO_PIB[CRESCIMENTO_PIB$year >= 2000, ]

ggplot(CRESCIMENTO_PIB, aes(x = year, y = NY.GDP.MKTP.KD.ZG, color = country)) +
  
  # Linhas de cada pa√≠s
  geom_line(size = 2) +
  
  # Pontos para destacar valores
  geom_point(size = 3) +
  
  # T√≠tulos e eixos personalizados
  labs(
    title = "üìà Crescimento do PIB",
    subtitle = "Taxa de Crescimento do PIB a Pre√ßos Constantes (2000-2023)",
    x = "Ano",
    y = "Crescimento do PIB (%)",
    color = "Pa√≠s"
  ) +
  
  # Escala de anos de 10 em 10
  scale_x_continuous(breaks = seq(2000, 2023, by = 10)) +
  
  # Tema escuro moderno
  theme_minimal(base_size = 14) +
  theme(
    plot.background = element_rect(fill = "#121212", color = NA),
    panel.background = element_rect(fill = "#121212", color = NA),
    panel.grid.major = element_line(color = "#444444"),
    panel.grid.minor = element_line(color = "#444444"),
    plot.title = element_text(face = "bold", size = 18, hjust = 0.5, color = "white"),
    plot.subtitle = element_text(size = 12, hjust = 0.5, color = "white"),
    axis.title = element_text(color = "white"),
    axis.text = element_text(color = "white"),
    legend.title = element_text(color = "white"),
    legend.text = element_text(color = "white")
  )


```
